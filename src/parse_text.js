const arr = [
    "Printed Date Huebes, Disyembre 21                                                                                                              Page 1 of 1\r",
    " Printed Time  9:13:51A\r",
    "\r",
    "                                                                    JTS MANUKAN GRILLLE\r",
    "                                                               Bacchus SQL Back Office Module                                                                   Item Sales Report  \r",
    "                                                          Nobyembre 01, 2023 - Nobyembre 30, 2023\r",
    "\r",
    "\r",
    "\r",
    " 2       JTS MANUKAN BORROMEO\r",
    "\r",
    "  Barcode              Item Description                Unit     Qty   Net Cost   Gross    Discount Surcharge Delcharge  RefundGross Receipt Vat EX. Amt\r",
    "\r",
    "\r",
    "  1                    1/2 GARLIC RICE                  PC    32.000    0.0000    720.00     18.15     0.00      0.00    0.00    689.43       12.42\r",
    "  2                    1/2 PLAIN RICE                   PC    59.000    0.0000  1,032.50     52.07     0.00      0.00    0.00    946.68       33.75\r",
    "  4                    ADOBONG KANGKONG                 PC    161.00  9,660.00  20,125.0    762.01     0.00      0.00    0.00  18,917.4      445.54\r",
    "  119                  ADOBONG KANGKONG                 PC    31.000  3,720.00  4,278.00      0.00     0.00      0.00    0.00  4,278.00        0.00\r",
    "  0308                 ALLMYTEA                         PC    320.00    0.0000  25,600.0    343.87     0.00      0.00    0.00  24,955.5      300.62\r",
    "  126                  ALLMYTEA                         PC     2.000  160.0000    176.00      0.00     0.00      0.00    0.00    176.00        0.00\r",
    "  34                   AMT BTM (14OZ)                   PC     3.000    0.0000    195.00      0.00     0.00      0.00    0.00    195.00        0.00\r",
    "  120                  APAN-APAN                        PC    30.000  3,600.00  4,140.00      0.00     0.00      0.00    0.00  4,140.00        0.00\r",
    "  5                    APAN-APAN                        PC    85.000  5,100.00  10,625.0    340.44     0.00      0.00    0.00  10,079.0      205.52\r",
    "  0105                 ATAY                             PC    1,011.  42,462.0  85,934.9  3,009.02     0.00      0.00    0.00  81,399.4    1,526.52\r",
    "  103                  ATAY                             PC    189.00  16,065.0  17,766.0      0.00     0.00      0.00    0.00  17,766.0        0.00\r",
    "  0201                 ATCHARA                          PC    155.00  2,325.00  5,425.00    179.18     0.00      0.00    0.00  5,142.39      103.43\r",
    "  121                  ATCHARA                          PC     7.000  245.0000    273.00      0.00     0.00      0.00    0.00    273.00        0.00\r",
    "  239                  B.GULAMAN/GRAB                   PC    11.000  726.0000    726.00      0.00     0.00      0.00    0.00    726.00        0.00\r",
    "  95                   BASTANTE                         PC    57.000    0.0000  9,120.00    120.94     0.00      0.00    0.00  8,907.91       91.15\r",
    "  0113                 BATCHOY PLAIN                    PC    190.00    0.0000  32,300.0  1,416.00     0.00      0.00    0.00  30,116.8      767.12\r",
    "  0114                 BATCHOY W/  EGG                  PC    421.00    0.0000  79,990.0  2,718.03     0.00      0.00    0.00  75,735.4    1,536.50\r",
    "  114                  BATCHOY W/EGG                    PC    24.000  4,440.00  5,016.00     37.32     0.00      0.00    0.00  4,956.29       22.39\r",
    "  115                  BATCHOY W/OUT EGG                PC    40.000  6,600.00  7,480.00     33.39     0.00      0.00    0.00  7,426.57       20.04\r",
    "  0104                 BATICULON                        PC    654.00  24,852.0  49,050.0  1,283.98     0.00      0.00    0.00  47,102.7      663.29\r",
    "  104                  BATICULON                        PC    66.000  4,950.00  5,478.00      0.00     0.00      0.00    0.00  5,478.00        0.00\r",
    "  147                  BIG CONTAINER                    PC    87.000  870.0000    870.00     37.76     0.00      0.00    0.00    815.12       17.12\r",
    "  203                  BLACK GULAMAN                    PC    598.00  35,880.0  35,880.0    718.17     0.00      0.00    0.00  34,524.9      636.86\r",
    "  0110                 BONELESS BANGUS                  PC    84.000  10,920.0  21,000.0    924.55     0.00      0.00    0.00  19,591.0      484.40\r",
    "  0301                 BOTTLED WATER                    PC    89.000    0.0000  3,115.00    112.38     0.00      0.00    0.00  2,965.86       36.76\r",
    "  132                  BOTTLED WATER                    PC     1.000   40.0000     39.00      0.00     0.00      0.00    0.00     39.00        0.00\r",
    "  197                  CANSI                            PC    257.00  84,810.0  93,804.9  2,583.35     0.00      0.00    0.00  89,777.9    1,443.67\r",
    "  198                  CANSI                            PC    52.000  17,420.0  20,904.0     71.79     0.00      0.00    0.00  20,789.1       43.07\r",
    "  210                  CANSI STEAK                      PC    73.000  24,090.0  25,550.0    762.21     0.00      0.00    0.00  24,356.6      431.12\r",
    "  0401                 CARAMEL TART                     PC    34.000  5,950.00  5,950.00    240.13     0.00      0.00    0.00  5,547.99      161.88\r",
    "  134                  CARAMEL TART                     PC     1.000  175.0000    193.00      0.00     0.00      0.00    0.00    193.00        0.00\r",
    "  99                   CHIC-CHARON                      PC     6.000  1,110.00    960.00    192.00     0.00      0.00    0.00    768.00        0.00\r",
    "  106                  CHICKEN SISIG W/EGG              PC     9.000  2,250.00  2,529.00     50.18     0.00      0.00    0.00  2,448.71       30.11\r",
    "  70                   CHICKEN SISIG(E)                 PC    67.000    0.0000  17,085.0    542.98     0.00      0.00    0.00  16,266.0      275.94\r",
    "  69                   CHICKEN SISIG(P)                 PC    42.000    0.0000  9,870.00    130.28     0.00      0.00    0.00  9,665.02       74.70\r",
    "  107                  CHICKEN W/OUT EGG                PC    11.000  2,530.00  2,849.00     92.50     0.00      0.00    0.00  2,701.00       55.50\r",
    "  0302                 COKE                             PC    379.00    0.0000  28,425.0    519.58     0.00      0.00    0.00  27,446.8      458.57\r",
    "  53                   COKE ZERO                        PC    336.00    0.0000  25,200.0    545.10     0.00      0.00    0.00  24,149.2      505.68\r",
    "  0107                 CORAZON                          PC    288.00  11,520.0  15,840.0    516.98     0.00      0.00    0.00  15,104.7      218.26\r",
    "  105                  CORAZON                          PC    34.000  1,870.00  2,074.00      0.00     0.00      0.00    0.00  2,074.00        0.00\r",
    "  111                  DINUGUAN                         PC    30.000  4,500.00  5,280.00     10.48     0.00      0.00    0.00  5,263.23        6.29\r",
    "  56                   DINUGUAN                         PC    162.00    0.0000  25,920.0    893.62     0.00      0.00    0.00  24,509.6      516.73\r",
    "  224                  DINUGUAN W/PUTO                  PC     3.000  645.0000    645.00      0.00     0.00      0.00    0.00    645.00        0.00\r",
    "  207                  DINUGUAN W/PUTO                  PC    45.000  8,775.00  8,775.00    288.82     0.00      0.00    0.00  8,322.52      163.66\r",
    "  0205                 EXTRA C-OIL                      PC     4.000   40.0000     40.00      0.00     0.00      0.00    0.00     40.00        0.00\r",
    "  0204                 EXTRA GARLIC CHIPS               PC    30.000  510.0000  1,050.00     24.87     0.00      0.00    0.00  1,007.63       17.50\r",
    "  227                  GARLIC CHIPS                     PC    33.000  1,287.00  1,287.00      0.00     0.00      0.00    0.00  1,287.00        0.00\r",
    "  0203                 GARLIC RICE                      PC    3,324.  83,100.0  149,580.  3,519.44     0.00      0.00    0.00  143,596.    2,463.97\r",
    "  242                  GARLIC RICE                      PC    194.00  9,700.00  9,700.00      0.00     0.00      0.00    0.00  9,700.00        0.00\r",
    "  109                  GRILLED BANGUS                   PC    63.000  14,805.0  17,325.0     98.22     0.00      0.00    0.00  17,167.8       58.92\r",
    "  161                  HOPE IN A BOTTLE                 PC    36.000  1,440.00  1,440.00     46.44     0.00      0.00    0.00  1,371.13       22.43\r",
    "  0106                 ISOL                             PC    482.00  22,172.0  47,236.0  2,223.88     0.00      0.00    0.00  43,797.3    1,214.75\r",
    "  130                  ISOL                             PC    27.000  2,700.00  2,916.00      0.00     0.00      0.00    0.00  2,916.00        0.00\r",
    "  248                  JTS CAP                          PC     1.000  400.0000    400.00     24.69     0.00      0.00    0.00    361.02       14.29\r",
    "  71                   JTS CHICKEN OIL                  PC    12.000  2,400.00  2,760.00     66.71     0.00      0.00    0.00  2,648.11       45.18\r",
    "  67                   JTS GARLIC CHIPS                 PC     6.000  1,200.00  1,380.00     30.73     0.00      0.00    0.00  1,324.63       24.64\r",
    "  117                  KALDO BATCHOY                    PC     1.000   25.0000     33.00      0.00     0.00      0.00    0.00     33.00        0.00\r",
    "  200                  KALDO BEEF                       PC    716.00  17,900.0  21,480.0    726.41     0.00      0.00    0.00  20,367.0      386.57\r",
    "  24                   KALDO(BATCHOY)                   PC    388.00  29,100.0  11,640.0    296.93     0.00      0.00    0.00  11,155.4      187.65\r",
    "  160                  L.FLAN (SOLO)                    PC    15.000  900.0000  1,155.00      0.00     0.00      0.00    0.00  1,155.00        0.00\r",
    "  159                  L.FLAN SOLO                      PC    109.00  6,540.00  6,540.00    213.38     0.00      0.00    0.00  6,234.69       91.93\r",
    "  202                  LAING                            PC    262.00  47,160.0  47,160.0  1,752.48     0.00      0.00    0.00  44,425.6      981.86\r",
    "  252                  LAING                            PC     2.000  396.0000    396.00      0.00     0.00      0.00    0.00    396.00        0.00\r",
    "  236                  LAING/GRAB                       PC    29.000  5,742.00  5,742.00     35.36     0.00      0.00    0.00  5,685.43       21.21\r",
    "  144                  LARGE BOX                        PC     2.000   20.0000     20.00      0.57     0.00      0.00    0.00     19.22        0.21\r",
    "  133                  LECHE FLAN                       PC    12.000  2,100.00  2,316.00      0.00     0.00      0.00    0.00  2,316.00        0.00\r",
    "  0402                 LECHE FLAN - DINE IN             PC    82.000  14,350.0  14,350.0    318.84     0.00      0.00    0.00  13,892.7      138.39\r",
    "  55                   LECHE FLAN T.O                   PC    10.000  1,750.00  1,750.00     12.87     0.00      0.00    0.00  1,726.19       10.94\r",
    "  0109                 LIEMPO                           PC    405.00  44,550.0  101,250.  3,182.64     0.00      0.00    0.00  96,332.0    1,735.30\r",
    "  131                  LIEMPO                           PC    66.000  15,840.0  18,150.0     49.11     0.00      0.00    0.00  18,071.4       29.46\r",
    "  201                  MANAPLA PUTO                     PC    174.00  8,700.00  8,700.00    422.23     0.00      0.00    0.00  8,061.86      215.91\r",
    "  223                  MANAPLA PUTO                     PC    29.000  1,595.00  1,595.00      0.00     0.00      0.00    0.00  1,595.00        0.00\r",
    "  0102                 PAA                              PC    2,823.  242,778.  465,795.  15,304.1     0.00      0.00    0.00  442,340.    8,150.82\r",
    "  101                  PAA                              PC    548.00  87,680.0  99,736.0     97.50     0.00      0.00    0.00  99,580.0       58.50\r",
    "  0103                 PAK-PAK                          PC    294.00  16,170.0  44,099.9  1,439.79     0.00      0.00    0.00  41,866.1      794.05\r",
    "  129                  PAK-PAK                          PC    50.000  7,250.00  8,250.00      0.00     0.00      0.00    0.00  8,250.00        0.00\r",
    "  66                   PANG SABOR                       PC     8.000  2,240.00  2,400.00     53.50     0.00      0.00    0.00  2,314.36       32.14\r",
    "  102                  PECHO                            PC    405.00  68,850.0  80,190.0     47.15     0.00      0.00    0.00  80,114.5       28.28\r",
    "  9                    PECHO                            PC    3,055.  293,280.  549,900.  15,952.2     0.00      0.00    0.00  525,465.    8,482.46\r",
    "  118                  PINANGAT                         PC     6.000  900.0000  1,026.00      0.00     0.00      0.00    0.00  1,026.00        0.00\r",
    "  62                   PINANGAT                         PC    67.000    0.0000  10,385.0    455.26     0.00      0.00    0.00  9,751.49      178.25\r",
    "  0202                 PLAIN RICE                       PC    4,426.  88,520.0  154,910.  3,092.63     0.00      0.00    0.00  149,539.    2,277.98\r",
    "  225                  PLAIN RICE                       PC    209.00  8,151.00  8,151.00      0.00     0.00      0.00    0.00  8,151.00        0.00\r",
    "  0108                 PORK BBQ                         PC    1,016.  23,368.0  55,880.0  1,902.42     0.00      0.00    0.00  53,148.2      829.31\r",
    "  112                  PORK BBQ                         PC    179.00  9,845.00  10,919.0     10.89     0.00      0.00    0.00  10,901.5        6.54\r",
    "  108                  PORK SISIG                       PC    18.000  4,320.00  5,004.00     49.64     0.00      0.00    0.00  4,924.57       29.79\r",
    "  35                   PORK SISIG (P)                   PC    77.000    0.0000  19,250.0    417.25     0.00      0.00    0.00  18,679.4      153.28\r",
    "  36                   PORK SISIG(E)                    PC    185.00    0.0000  49,949.9  1,051.19     0.00      0.00    0.00  48,292.1      606.66\r",
    "  135                  PORK SISIGW/EGG                  PC    17.000  4,420.00  5,049.00      0.00     0.00      0.00    0.00  5,049.00        0.00\r",
    "  17                   RED HORSE                        PC    83.000  6,640.00  6,640.00     15.09     0.00      0.00    0.00  6,616.34        8.57\r",
    "  0305                 ROYAL                            PC    124.00    0.0000  9,300.00    198.66     0.00      0.00    0.00  8,984.86      116.48\r",
    "  125                  ROYAL                            PC    12.000    0.0000    996.00      0.00     0.00      0.00    0.00    996.00        0.00\r",
    "  136                  SALTED EGG                       PC     6.000  480.0000    762.00     22.68     0.00      0.00    0.00    725.71       13.61\r",
    "  6                    SALTED EGGS                      PC    154.00    0.0000  17,710.0    547.33     0.00      0.00    0.00  16,869.6      292.98\r",
    "  0312                 SAN MIGUEL LIGHT                 PC    562.00  19,670.0  44,960.0  1,052.14     0.00      0.00    0.00  43,223.2      684.62\r",
    "  0311                 SAN MIGUEL PALE PILSEN           PC    462.00  16,170.0  36,960.0    508.14     0.00      0.00    0.00  36,088.1      363.74\r",
    "  54                   SATE BABI                        PC    47.000    0.0000  8,930.01    371.37     0.00      0.00    0.00  8,352.44      206.20\r",
    "  110                  SATE BABI                        PC     6.000  1,110.00  1,254.00      0.00     0.00      0.00    0.00  1,254.00        0.00\r",
    "  72                   SINAMAK                          PC     5.000  650.0000    750.00     14.15     0.00      0.00    0.00    727.81        8.04\r",
    "  148                  SMALL BOX                        PC    175.00  875.0000    875.00     11.25     0.00      0.00    0.00    857.00        6.75\r",
    "  213                  SMALL CONTAINER                  PC    123.00  615.0000    615.00     12.17     0.00      0.00    0.00    592.76       10.07\r",
    "  245                  SPICY PAA                        PC    124.00  21,700.0  21,700.0    718.66     0.00      0.00    0.00  20,636.9      344.38\r",
    "  0304                 SPRITE                           PC    125.00    0.0000  9,375.00    158.67     0.00      0.00    0.00  9,078.42      137.91\r",
    "  75                   TINAPA REG                       PC     9.000  2,160.00  2,160.00     31.72     0.00      0.00    0.00  2,103.00       25.28\r",
    "  76                   TINAPA SPICY                     PC    13.000  3,120.00  3,120.00    112.72     0.00      0.00    0.00  2,981.99       25.29\r",
    "  0503                 XTRA EGG                         PC    30.000    0.0000    750.00     10.86     0.00      0.00    0.00    732.44        6.70\r",
    "                 Branch Total                                 28,193  1,605,64  2,933,35  76,252.2     0.00      0.00    0.00 2,814,27     42,828.38\r",
    "                 Grand Total                                  28,193  1,605,64  2,933,35  76,252.2     0.00      0.00    0.00 2,814,27     42,828.38"
]





function parse(data, type){
    if(type ==='double')
        return parseFloat( data.replace(/[^a-zA-Z0-9.-]/g, '', ''))
    else if (type ==='int')
        return parseInt( data.replace(/[^a-zA-Z0-9.-]/g, '', ''))
    else return data;
}


const parseData = (data, columns) => 
     columns.map(({ start, end, type }) =>
        parse(data.substring(start, end).trim(), type))


const removeNewLines = (text) => text.replace(/(\r\n|\n|\r)/gm, "");


const processData = (arr, settings) => {
    const items = [];
    for (let i = settings.starting_line + 1; i < arr.length; i++) {
        const item = arr[i];
        const dataWithNoNewLine = removeNewLines(item);
        const parsedRow = parseData(dataWithNoNewLine, settings.columns);

        if(settings.hasOwnProperty('ends_when')){
            if(settings.ends_when.col_value.includes(parsedRow[settings.ends_when.col_num]))
                break;
        }

        items.push(parsedRow);
    }
    return items;
};



export function parseText(items){
    const settings = {
        starting_line : 13,
        ends_when : {
            col_num : 0,
            col_value : ["","Grand","Branch"]
        },
        columns : [ {
        
            start : 0,
            end : 23
        },
        {
           
            start : 23,
            end : 56
        },
        {
           
            start : 56,
            end : 62
        },
        {
    
            start : 62,
            end : 68,
            type : "int"
        },
        {
           
            start : 68,
            end : 78,
            type : "double"
        },
        {
          
            start : 78,
            end : 90,
            type : "double"
        },
        {
            start : 90,
            end : 98,
            type : "double"

        },
        {
            start : 98,
            end : 109,
            type: "double"
        },
        {
            start : 109,
            end : 121,
            type: "double"
        },
        {
            start : 121,
            end : 127,
            type: "double"
        },
        {
            start : 127,
            end : 139,
            type: "double"
        },
        {
            start : 139,
            end : 149,
            type: "double"
        }
    
    
    ]
    }


    console.log(processData(items,settings))



    
}






